"use strict";define(["module-directive-bundling-user-all","module-services-api"],function(){var a=angular.module("myApp",["pascalprecht.translate","ui.router","ui.bootstrap","ngAnimate","ngCookies"]);a.controller("MemberRecipesIndexController",["$scope","$http","$location","$state","$translate","drugstoreServices","optionsServices",function(a,b,c,d,e,f,g){a.ListItems=[],a.pageSize=10,a.CurrentPage=1,a.totalCount=0,a.DrugstoreRecipeStatus="";var h={N0:"未提交",N1:"已提交",N2:"正在开处方",N3:"正在开处方",N4:"已开处方"};a.onSearch=function(b){(!a.Keyword||a.Keyword.length<=0)&&(a.Keyword=void 0),a.DrugstoreRecipeStatus.length>0?f.getDrugstoreRecipe({Keyword:a.Keyword,PageSize:a.pageSize,CurrentPage:a.CurrentPage,DrugstoreRecipeStatus:parseInt(a.DrugstoreRecipeStatus)},function(b){null!=b.Data&&$.each(b.Data,function(a,b){b.StatusName=h["N"+b.DrugstoreRecipeStatus]}),a.ListItems=b.Data,a.totalCount=b.Total}):f.getDrugstoreRecipe({Keyword:a.Keyword,PageSize:a.pageSize,CurrentPage:a.CurrentPage},function(b){null!=b.Data&&$.each(b.Data,function(a,b){b.StatusName=h["N"+b.DrugstoreRecipeStatus]}),a.ListItems=b.Data,a.totalCount=b.Total})},a.Remove=function(b){layer.confirm(e.instant("msgConfirmDelete"),{btn:["是","否"]},function(){f.deleteDrugstoreRecipe({DrugstoreRecipeID:b},function(b){b.Data?(layer.msg(e.instant("msgDeleteSuccess")),a.onSearch(a.CurrentPage)):layer.msg("删除失败")})},function(){})},a.onEdit=function(a){d.go("Drugstore.MemberRecipesEdit",{id:a})},a.onDetail=function(a){d.go("Drugstore.MemberRecipesDetail",{id:a})},a.onPreview=function(a){layer.open({type:2,area:["700px","530px"],fix:!1,maxmin:!0,content:"/Manage/Pub/Jump?url="+global_StoreConfig.UrlPrefix+"PDF/Recipe/"+a})}}])});
//# sourceMappingURL=IndexController.min.js.map
/*! 康美网络医院 最后修改于： 2017-01-13 */