{"version":3,"sources":["EditController.js"],"names":["define","user","apiUtil","app","angular","module","controller","$scope","$http","$q","$location","$state","$translate","doctorDiagnosisServices","sysICDsServices","sysDrugsServices","userMembersServices","drugstoreServices","MemberID","MemberName","MemberGenderName","Age","DoctorID","DoctorName","EnumDrugstoreRecipeStatus","N0","N1","N2","N3","N4","EnumOpType","N5","EnumGender","DrugstoreRecipeID","params","id","DrugstoreRecipeStatus","StatusName","DrugstoreRecipe","DrugSellDate","EnumRecipeType","中药处方","西药处方","doseUnitEN","doseUnitCN","drugFrequency","shade","name","drugRoteItems","OPDRegisterID","Sympton","Disease","PhysicalExam","ItemCode","ItemCNName","ItemENName","Result","RefRange","Unit","Value","$$hashKey","RecipeFiles","Doctors","RecipeHis","onLoad","loading","layer","load","length","getDrugstoreRecipe","obj","Data","RecipeList","$","each","i","d","OpTypeName","OpType","Doctor","UserMember","Gender","onShowRecipeFile","RecipeName","onAddRecipeFile","close","msg","getUserMember","val","GetStringLength","trim","deferred","defer","query","Keyword","PageSize","CurrentPage","response","map","item","resolve","reject","promise","onUserMemberSelect","$item","$model","$label","getDoctor","getDrugstoreDoctors","flag","current","push","Details","Usage","TCMQuantity","RecipeType","Diagnoses","onAddICDRecord","recipe","Detail","ID","DiseaseCode","DiseaseName","Description","onRemoveICDRecord","dialog","confirm","btn","index","indexOf","splice","$apply","getICDRecords","ICDType","get","onDiseaseSelect","DiagnoseType","onAddDrugDetail","list","Dose","Quantity","DrugRouteName","Frequency","DoseUnit","Drug","DrugID","DrugCode","DrugName","Specification","UnitPrice","TotalDose","onRemoveDrugDetail","recipeFile","loginInfo","getLoginInfo","getDrugDetails","Type","DrugType","UserID","onDrugSelect","formatDrugItem","undefined","FactoryName","str","realLength","charCode","charCodeAt","getNoEmpty","templist","onSubmit","status","valid","j","temlitem","updateDrugstoreRecipe","RecipeFileDTOs","instant","icon","insertDrugstoreRecipe","$on","event","data","HistoryRegister","PastMedicalHistory","PresentHistoryIllness","HistoryRecordDetail","li","modal","GoBack","history","back","html"],"mappings":"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","file":"EditController.min.js"}