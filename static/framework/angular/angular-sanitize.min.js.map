{"version":3,"sources":["angular-sanitize.js"],"names":["window","angular","$SanitizeProvider","svgEnabled","this","$get","$$sanitizeUri","extend","validElements","svgElements","html","buf","htmlParser","htmlSanitizeWriter","uri","isImage","test","join","enableSvg","isDefined","sanitizeText","chars","writer","noop","toMap","str","lowercaseKeys","i","obj","items","split","length","lowercase","handler","undefined","inertBodyElement","innerHTML","mXSSAttempts","$sanitizeMinErr","document","documentMode","stripCustomNsAttrs","node","firstChild","nodeType","start","nodeName","toLowerCase","attrToMap","attributes","textContent","nextNode","end","nextSibling","parentNode","removeChild","attrs","map","ii","attr","name","value","encodeEntities","replace","SURROGATE_PAIR_REGEXP","hi","charCodeAt","low","NON_ALPHANUMERIC_REGEXP","uriValidator","ignoreCurrentElement","out","bind","push","tag","blockedElements","forEach","key","lkey","validAttrs","uriAttrs","voidElements","Node","ELEMENT_NODE","l","attrNode","attrName","indexOf","removeAttributeNode","$$minErr","optionalEndTagBlockElements","optionalEndTagInlineElements","optionalEndTagElements","blockElements","inlineElements","htmlAttrs","svgAttrs","doc","implementation","createHTMLDocument","docElement","documentElement","getDocumentElement","bodyElements","getElementsByTagName","createElement","appendChild","module","provider","filter","$sanitize","LINKY_URL_REGEXP","MAILTO_REGEXP","linkyMinErr","isString","text","target","addText","addLink","url","isFunction","isObject","match","raw","index","substr","substring"],"mappings":"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","file":"angular-sanitize.min.js"}