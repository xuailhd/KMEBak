!function(a, b) {
    var c = function(a) {
        this.opts = b.extend({}, d, a || {}), this.recordActiveArr = this.opts.activeObj, 
        this.init(this.opts);
    }, d = {
        curDate: new Date(),
        dateFormat: "yyyy年mm",
        minDate: new Date(),
        minMonthNum: 1,
        maxMonthNum: 1,
        disabledClass: "disabledClick",
        enabledClass: "enabledClick",
        activeObj: {}
    };
    c.prototype = {
        init: function(a) {
            var c = a.curDate, d = this, e = c.getFullYear(), f = c.getMonth() + 1, g = (c.getDay(), 
            d.opts.minMonthNum), h = d.opts.maxMonthNum, i = "" + e + (f < 10 ? "0" + f : f);
            d.recordActiveArr[i] = d.recordActiveArr[i] || [], d.addDaysHtml(e, f), d.initDate(e, f, d.opts.activeObj);
            var j = 0, k = 0;
            b(".prev").on("click", function() {
                j < g && (j += 1, k -= 1, d.changeMonth("minus", d.recordActiveArr), j < g ? b(this).hasClass("disabled") && b(this).removeClass("disabled") : b(this).addClass("disabled"), 
                k < h ? b(".next").hasClass("disabled") && b(".next").removeClass("disabled") : b(".next").addClass("disabled"));
            }), b(".next").on("click", function() {
                k < h && (k += 1, j -= 1, d.changeMonth("add", d.recordActiveArr), k < h ? b(this).hasClass("disabled") && b(this).removeClass("disabled") : b(this).addClass("disabled"), 
                j < g ? b(".prev").hasClass("disabled") && b(".prev").removeClass("disabled") : b(".prev").addClass("disabled"));
            });
            var l = ".day." + d.opts.enabledClass;
            b("table").on("click", l, function() {
                var a = b(".dateSwitch").html(), c = a.slice(0, 4), e = a.slice(5, 7), f = "" + c + e;
                if (d.recordActiveArr[f] = d.recordActiveArr[f] || [], !b(this).hasClass(d.opts.disabledClass)) {
                    var g = Number(b(this).html()) < 10 ? "0" + Number(b(this).html()) : b(this).html();
                    b(this).hasClass("active") ? (b(this).removeClass("active"), d.recordActiveArr[f] = d.removeArrVal(d.recordActiveArr[f], g)) : (b(this).addClass("active"), 
                    d.recordActiveArr[f].push(g));
                }
                d.recordActiveArr[f] = d.unique(d.recordActiveArr[f]);
            });
        },
        removeArrVal: function(a, b) {
            var c = 0;
            for (c in a) if (a[c] == b) break;
            return a.slice(0, c).concat(a.slice(parseInt(c, 10) + 1));
        },
        unique: function(a) {
            for (var b = [], c = {}, d = 0; d < a.length; d++) c[a[d]] || (b.push(a[d]), c[a[d]] = 1);
            return b;
        },
        getRecordDate: function() {
            var a = this;
            return a.recordActiveArr;
        },
        formatDate: function(a) {
            var b = a.getFullYear(), c = (a.getYear(), a.getMonth() + 1), d = a.getDate(), e = (a.getDay(), 
            this), f = e.opts.dateFormat, g = f.replace(/yyyy|mm|dd|HH|MM|ss/g, function(e) {
                switch (e) {
                  case "yyyy":
                    return b;

                  case "mm":
                    return c < 10 ? "0" + c : c;

                  case "dd":
                    return d;

                  case "HH":
                    return a.getHours();

                  case "MM":
                    return a.getMinutes();

                  case "ss":
                    return a.getSeconds();

                  default:
                    return e.substr(1, e.length - 2);
                }
            });
            return g;
        },
        initDate: function(a, b, c) {
            var d = this;
            d.addDays(a, b, c);
        },
        updateDate: function(a, b, c) {
            var d = this;
            d.addDays(a, b, c);
        },
        getDays: function(a, b) {
            var c;
            return c = 2 == b ? a % 4 == 0 ? 29 : 28 : 1 == b || 3 == b || 5 == b || 7 == b || 8 == b || 10 == b || 12 == b ? 31 : 30;
        },
        addDaysHtml: function(a, c) {
            var d = this, e = [ "日", "一", "二", "三", "四", "五", "六" ], f = "", g = "", h = "", i = "", j = "";
            i = '<thead><tr><th class="prev">&lt;</th><th class="dateSwitch" colspan="5">' + d.formatDate(new Date(a + "/" + c + "/1")) + '</th><th class="next">&gt;</th></tr><tr>';
            for (var k = 0; k < 6; k++) {
                g += "<tr>", f = "";
                for (var l = 0; l < 7; l++) f += '<th class="dow">星期' + e[l] + "</th>", g += '<td class="day"></td>';
                g += "</tr>";
            }
            f += "</tr></thead>", i += f, j = "<tbody>" + g + "</tbody>", h = i + j, b(".calendarTable").html(h);
        },
        addDays: function(a, c, d) {
            var e = this, f = 42, g = this.getFirstDay(a, c), h = 0, i = e.getDays(a, c), j = "" + a + (c < 10 ? "0" + c : c), k = d[j];
            b(".day").hasClass("active") && b(".day").removeClass("active");
            for (var l = 0; l < f; l++) if (g = 0 == g ? 7 : g, l < g || l >= i + g ? b(".day").eq(l).html("") : (h = l - g + 1, 
            h = h < 10 ? "0" + h : h, b(".day").eq(l).html(h)), e.disabledDays(b(".day").eq(l)), 
            b(".day").eq(g + l).removeClass("active"), k) for (var m = 0; m < k.length; m++) k[m] == b(".day").eq(l).html() && b(".day").eq(l).addClass("active");
        },
        getFirstDay: function(a, b) {
            var c = new Date(Date.UTC(a, b - 1, 1)).getDay();
            return c;
        },
        changeMonth: function(a, c) {
            var d, e = b(".dateSwitch").html(), f = e.slice(0, 4), g = e.slice(5, 7), h = f + "/" + g + "/1", i = new Date(h), j = i.getFullYear(), k = i.getMonth(), l = this;
            "add" == a ? (k += 1, k > 11 && (j += 1, k -= 12), d = l.formatDate(new Date(j, k)), 
            b(".dateSwitch").html(d)) : "minus" == a && (k -= 1, k < 0 && (j -= 1, k += 12), 
            d = l.formatDate(new Date(j, k)), b(".dateSwitch").html(d)), k += 1, l.updateDate(j, k, c);
        },
        disabledDays: function(a) {
            var c = this, d = b(".dateSwitch").html(), e = d.slice(0, 4), f = d.slice(5, 7), g = a.html(), h = c.opts.minDate.getTime(), i = "" == g ? 0 : new Date(e + "/" + f + "/" + g + " 23:59:59").getTime(), j = i - h;
            j < 0 ? (a.hasClass(c.opts.disabledClass) || a.addClass(c.opts.disabledClass), a.hasClass(c.opts.enabledClass) && a.removeClass(c.opts.enabledClass)) : (a.hasClass(c.opts.disabledClass) && a.removeClass(c.opts.disabledClass), 
            a.hasClass(c.opts.enabledClass) || a.addClass(c.opts.enabledClass));
        }
    }, a.DateTime = c;
}(window, jQuery);
//# sourceMappingURL=dateTime.min.js.map
/*! 康美网络医院 最后修改于： 2016-10-20 */